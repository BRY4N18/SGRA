<section class="hero-card">
  <div class="hero-text">
    <h2>Bienvenido, {{ username }}</h2>
    <p>Panel de gestión de refuerzos académicos</p>
  </div>
  <a class="hero-button" routerLink="/dashboard/docente/disponibilidad">
    <span class="hero-button-icon"><i class="bi bi-stopwatch"></i></span>
    Gestionar Disponibilidad
  </a>
</section>

<section class="metrics-grid">
  <article class="metric-card">
    <div class="metric-icon metric-icon--warning">
      <i class="bi bi-inbox"></i>
    </div>
    <div class="metric-info">
      <h3>{{ metrics.pendientes }}</h3>
      <span>Solicitudes Pendientes</span>
      <a routerLink="/dashboard/docente/solicitudes">Ver todas</a>
    </div>
  </article>
  <article class="metric-card">
    <div class="metric-icon metric-icon--purple">
      <i class="bi bi-calendar-event"></i>
    </div>
    <div class="metric-info">
      <h3>{{ metrics.programadas }}</h3>
      <span>Sesiones Programadas</span>
      <a routerLink="/dashboard/docente/sesiones">Ver calendario</a>
    </div>
  </article>
  <article class="metric-card">
    <div class="metric-icon metric-icon--green">
      <i class="bi bi-check-circle"></i>
    </div>
    <div class="metric-info">
      <h3>{{ metrics.completadas }}</h3>
      <span>Sesiones Completadas</span>
      <a routerLink="/dashboard/docente/reportes">Ver historial</a>
    </div>
  </article>
  <article class="metric-card">
    <div class="metric-icon metric-icon--blue">
      <i class="bi bi-mortarboard"></i>
    </div>
    <div class="metric-info">
      <h3>{{ metrics.atendidos }}</h3>
      <span>Estudiantes Atendidos</span>
      <a routerLink="/dashboard/docente/reportes">Ver reportes</a>
    </div>
  </article>
</section>

<section class="dashboard-grid">
  <div class="panel-card">
    <div class="panel-header">
      <div class="panel-title">
        <span class="panel-icon"><i class="bi bi-bell"></i></span>
        <h4>Solicitudes Pendientes de Revisión</h4>
      </div>
      <span class="panel-badge" *ngIf="pendingRequests.length">{{ pendingRequests.length }} nuevas</span>
    </div>
    <div class="panel-list" *ngIf="pendingRequests.length; else noRequests">
      <div class="panel-item" *ngFor="let request of pendingRequests">
        <div class="panel-avatar"><i class="bi bi-person"></i></div>
        <div class="panel-content">
          <strong>{{ request.studentName }}</strong>
          <small>{{ request.subject }} • {{ request.topic }}</small>
        </div>
        <div class="panel-meta">
          <span class="panel-date">{{ request.dateLabel }}</span>
          <span class="chip">{{ request.type }}</span>
        </div>
      </div>
    </div>
    <ng-template #noRequests>
      <div class="empty-state">No hay solicitudes pendientes por revisar.</div>
    </ng-template>
    <a class="panel-link" routerLink="/dashboard/docente/solicitudes">Ver todas las solicitudes</a>
  </div>

  <div class="panel-card">
    <div class="panel-header">
      <div class="panel-title">
        <span class="panel-icon"><i class="bi bi-calendar3"></i></span>
        <h4>Próximas Sesiones</h4>
      </div>
    </div>
    <div *ngIf="upcomingSessions.length; else noSessions">
      <div class="panel-item" *ngFor="let session of upcomingSessions">
        <div class="panel-avatar"><i class="bi bi-book"></i></div>
        <div class="panel-content">
          <strong>{{ session.subject }}</strong>
          <small>{{ session.dateLabel }} • {{ session.student }}</small>
        </div>
        <span class="chip chip-muted">{{ session.modality }}</span>
      </div>
    </div>
    <ng-template #noSessions>
      <div class="empty-state empty-state--center">
        <div class="empty-icon"><i class="bi bi-calendar-event"></i></div>
        No tienes sesiones programadas
      </div>
    </ng-template>
    <a class="panel-link" routerLink="/dashboard/docente/sesiones">Ver calendario completo</a>
  </div>
</section>

<section class="actions-section">
  <h4>Acciones Rápidas</h4>
  <div class="actions-grid">
    <a class="action-card" routerLink="/dashboard/docente/solicitudes">
      <span class="action-icon"><i class="bi bi-clipboard-check"></i></span>
      <span>Revisar Solicitudes</span>
    </a>
    <a class="action-card" routerLink="/dashboard/docente/disponibilidad">
      <span class="action-icon"><i class="bi bi-alarm"></i></span>
      <span>Mi Disponibilidad</span>
    </a>
    <a class="action-card" routerLink="/dashboard/docente/sesiones">
      <span class="action-icon"><i class="bi bi-people"></i></span>
      <span>Agrupar Sesiones</span>
    </a>
    <a class="action-card" routerLink="/dashboard/docente/reportes">
      <span class="action-icon"><i class="bi bi-bar-chart"></i></span>
      <span>Mis Reportes</span>
    </a>
  </div>
</section>

<section class="indicator-card">
  <div class="indicator-header">
    <span class="indicator-icon"><i class="bi bi-graph-up"></i></span>
    <h4>Indicadores del Período</h4>
  </div>
  <div class="indicator-grid">
    <div class="indicator-item" *ngFor="let indicator of periodIndicators">
      <div class="indicator-label">
        <span>{{ indicator.label }}</span>
        <strong>{{ indicator.value }}%</strong>
      </div>
      <div class="indicator-track">
        <span class="indicator-fill" [style.width.%]="indicator.value" [style.background]="indicator.accent"></span>
      </div>
    </div>
    <div class="indicator-item indicator-item--hours" *ngIf="hoursIndicator">
      <div class="indicator-label">
        <span>{{ hoursIndicator.label }}</span>
        <strong>{{ hoursIndicator.value }}</strong>
      </div>
      <small>{{ hoursIndicator.helper }}</small>
    </div>
  </div>
</section>
